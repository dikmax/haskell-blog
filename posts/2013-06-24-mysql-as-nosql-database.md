---
title: MySQL в качестве NoSQL базы данных
date: 2013-06-24T19:31:47+03:00
tags: mysql, базы данных, программирование
---

Идея, на самом деле, витала в воздухе. Уже не раз для хранения данных с неопределенной структурой приходилось использовать единственное поле, в которое эти данные помещались в сериализованном виде. Оставалось сделать один шаг: убрать все остальные поля. Нет ничего проще. Засунули все кроме первичного ключа в то же самое поле --- и готово. В таком варианте остается вопрос с поиском, ведь потребность в индексах пока никто не отменял. Для этой цели можно использовать вспомогательные таблицы c примерно такой структурой: 

~~~~~sql
CREATE TABLE index_user_id (
    user_id BINARY(16) NOT NULL,
    entity_id BINARY(16) NOT NULL UNIQUE,
    PRIMARY KEY (user_id, entity_id)
) ENGINE=InnoDB;
~~~~~

Т.е. получается, что мы выносим индексы из основной таблицы во вспомогательные, что дает нам выигрыш в скорости записи в основную таблицу, а ведь она может быть огромной.

Больше подробностей о подобном подходе можно прочитать [в блоге у CEO FriendFeed](http://backchannel.org/blog/friendfeed-schemaless-mysql). Мне кажется, тема заслуживает внимания.
